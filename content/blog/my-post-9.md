+++
title = "折腾hugo-Nginx"
date = "2023-07-07T12:10:00+08:00"

#
# description is optional
#
# description = "An optional description for SEO. If not provided, an automatically created summary will be used."

tags = ["hugo博客"]
+++

其实 nginx 没有什么多少，在 docker 中运行，它做得很好，以至于我都没有什么需要设置的

这里简单记录以下这条命令

```yaml
CMD ["nginx", "-g", "daemon off;"]
```

这是设置 nginx 以前台模式运行

这是 ChatGPT 的解释

在容器中运行应用程序时，通常有两种运行模式：前台模式和后台模式（守护进程模式）。前台模式是指应用程序在容器中直接运行，并将输出打印到标准输出（STDOUT）。后台模式是指应用程序以守护进程的方式在后台默默地运行，不将输出发送到标准输出。

前台模式对于容器化应用程序是非常有用的，有以下几个原因：

1. 容器的生命周期管理：在前台模式下运行应用程序，容器会一直保持运行状态，直到应用程序退出。这使得容器的生命周期管理更加方便，可以方便地监控容器的运行状态，捕获日志输出，以及在需要时进行调试和故障排查。

2. 日志记录：将应用程序的输出打印到标准输出是一种常见的日志记录方式。在前台模式下运行应用程序，可以通过 Docker 的日志记录机制轻松地获取应用程序的日志输出，并将其导入到集中日志系统中进行分析和存储。

3. 容器化应用程序的交互性：某些应用程序可能需要与终端进行交互，例如接受用户输入或显示交互式命令行界面。在前台模式下运行应用程序可以满足这些需求，并且可以通过终端与容器中的应用程序进行交互。

这里还是分享插曲

- 我刚开始设置时并由将 nginx 的 default.conf 配置文件导入，也就是原生的 nginx 在容器内运行，server_name 设置的还是 localhost，也就是本地运行，居然也是可以在服务器运行，当时我猜测是因为容器只是一个对外服务的端口，内部如何其实不影响外部，但是在 ChatGPT 的建议下我还是修改了，这里其实留下一个疑问，从打开网页到服务器响应并发送数据到我看到网页内容，这里面应该不仅仅只是 http 协议上的事情，后面有机会我再弄清楚，希望有这样一个 bug，能让我搞懂这一切
